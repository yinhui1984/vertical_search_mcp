# Platform configuration for vertical search MCP
# Each platform has its own configuration section

weixin:
  # Base URL for WeChat search on Sogou
  base_url: "https://weixin.sogou.com/weixin"
  
  # Multiple selector strategy for robustness
  # Selectors are tried in order until one finds elements
  selectors:
    article_list:
      - ".results h3"
      - ".news-box h3"
      - ".result-item h3"
      - "li h3"
      - "h3 a[href*='mp.weixin.qq.com']"
    # Next page button selector for pagination
    next_page: "a#sogou_next"
  
  # URL parameters for search
  url_params:
    type: "2"  # Article type
    ie: "utf8"  # Encoding
  
  # Platform metadata
  metadata:
    name: "WeChat"
    display_name: "微信公众号"
    description: "Search WeChat public account articles"
  
  # Maximum number of results per platform
  max_results: 100
  
  # Content extraction selectors for full article content
  content_selectors:
    # Main content container selectors (tried in order)
    main_content:
      - "#js_content"  # Primary content container
      - ".rich_media_content"
      - "article"
    
    # Elements to remove before extraction
    elements_to_remove:
      - ".qr_code_pc"  # QR code
      - ".reward_qr_code"  # Reward QR code
      - "#js_pc_qr_code"
      - ".original_primary_card"  # Original tag card
      - "script"
      - "style"
      - ".mp_profile_iframe"  # Public account profile

zhihu:
  # Base URL for Zhihu search on Sogou
  base_url: "https://zhihu.sogou.com/zhihu"
  
  # Multiple selector strategy for robustness
  # Selectors are tried in order until one finds elements
  selectors:
    article_list:
      - ".results h3"
      - ".news-box h3"
      - ".result-item h3"
      - "li h3"
      - "h3 a[href*='zhihu.com']"
    # Next page button selector for pagination
    next_page: "a#sogou_next"
  
  # URL parameters for search
  url_params:
    type: "2"  # Article type
    ie: "utf8"  # Encoding
  
  # Platform metadata
  metadata:
    name: "Zhihu"
    display_name: "知乎"
    description: "Search Zhihu content"
  
  # Maximum number of results per platform
  max_results: 100
  
  # Content extraction selectors for full article content
  content_selectors:
    # Main content container selectors (tried in order)
    # For answer pages
    main_content:
      - ".RichContent-inner"  # Answer content
      - ".Post-RichText"  # Post content
      - ".RichText"  # Generic rich text
    
    # Elements to remove before extraction
    elements_to_remove:
      - ".ContentItem-actions"  # Action buttons
      - ".RichText-ADLinkCardContainer"  # Ad cards
      - ".LinkCard"  # Link cards
      - ".VideoCard"  # Video cards (cannot extract)
      - "script"
      - "style"

google:
  # API configuration for Google Custom Search
  api:
    base_url: "https://www.googleapis.com/customsearch/v1"
    max_results_per_request: 10
    max_total_results: 100
  
  # Platform metadata
  metadata:
    name: "Google"
    display_name: "Google Custom Search"
    description: "Search using Google Custom Search API"
  
  # Content extraction selectors for full article content
  # Since Google returns results from various domains,
  # we use generic selectors that work for most websites
  content_selectors:
    # Main content container selectors (tried in order)
    main_content:
      - "article"
      - "main"
      - ".content"
      - "#content"
      - ".post-content"
      - ".entry-content"
      - ".article-content"
      - "body"  # Fallback to body if no specific container found
    
    # Elements to remove before extraction
    elements_to_remove:
      - "nav"
      - "header"
      - "footer"
      - ".sidebar"
      - ".comments"
      - "script"
      - "style"
      - ".ad"
      - ".advertisement"
      - "[class*='ad']"
      - "[id*='ad']"

