# Platform configuration for vertical search MCP
# Each platform has its own configuration section

weixin:
  # Base URL for WeChat search on Sogou
  base_url: "https://weixin.sogou.com/weixin"
  
  # Multiple selector strategy for robustness
  # Selectors are tried in order until one finds elements
  selectors:
    article_list:
      - ".results h3"
      - ".news-box h3"
      - ".result-item h3"
      - "li h3"
      - "h3 a[href*='mp.weixin.qq.com']"
    # Next page button selector for pagination
    next_page: "a#sogou_next"
  
  # URL parameters for search
  url_params:
    type: "2"  # Article type
    ie: "utf8"  # Encoding
  
  # Time filter mappings (tsn parameter values)
  time_filters:
    day: "1"
    week: "2"
    month: "3"
    year: "4"
  
  # Platform metadata
  metadata:
    name: "WeChat"
    display_name: "微信公众号"
    description: "Search WeChat public account articles"
  
  # Content extraction selectors for full article content
  content_selectors:
    # Main content container selectors (tried in order)
    main_content:
      - "#js_content"  # Primary content container
      - ".rich_media_content"
      - "article"
    
    # Elements to remove before extraction
    elements_to_remove:
      - ".qr_code_pc"  # QR code
      - ".reward_qr_code"  # Reward QR code
      - "#js_pc_qr_code"
      - ".original_primary_card"  # Original tag card
      - "script"
      - "style"
      - ".mp_profile_iframe"  # Public account profile

zhihu:
  # Base URL for Zhihu search on Sogou
  base_url: "https://zhihu.sogou.com/zhihu"
  
  # Multiple selector strategy for robustness
  # Selectors are tried in order until one finds elements
  selectors:
    article_list:
      - ".results h3"
      - ".news-box h3"
      - ".result-item h3"
      - "li h3"
      - "h3 a[href*='zhihu.com']"
    # Next page button selector for pagination
    next_page: "a#sogou_next"
  
  # URL parameters for search
  url_params:
    type: "2"  # Article type
    ie: "utf8"  # Encoding
  
  # Time filter mappings (tsn parameter values)
  time_filters:
    day: "1"
    week: "2"
    month: "3"
    year: "4"
  
  # Platform metadata
  metadata:
    name: "Zhihu"
    display_name: "知乎"
    description: "Search Zhihu content"
  
  # Content extraction selectors for full article content
  content_selectors:
    # Main content container selectors (tried in order)
    # For answer pages
    main_content:
      - ".RichContent-inner"  # Answer content
      - ".Post-RichText"  # Post content
      - ".RichText"  # Generic rich text
    
    # Elements to remove before extraction
    elements_to_remove:
      - ".ContentItem-actions"  # Action buttons
      - ".RichText-ADLinkCardContainer"  # Ad cards
      - ".LinkCard"  # Link cards
      - ".VideoCard"  # Video cards (cannot extract)
      - "script"
      - "style"

